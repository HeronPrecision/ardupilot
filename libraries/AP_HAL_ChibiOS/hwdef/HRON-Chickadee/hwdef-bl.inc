# crystal frequency
OSCILLATOR_HZ 25000000

# USB setup - Heron Precision vendor ID
USB_VENDOR 0x35B0  # Heron Precision
USB_PRODUCT 0x0001  # Chickadee RC3
USB_STRING_MANUFACTURER "Heron Precision"
USB_STRING_PRODUCT "Chickadee RC3"

# board ID for HRON-Chickadee
APJ_BOARD_ID AP_HW_HRON_Chickadee

FLASH_SIZE_KB 2048

# bootloader is installed at zero offset
FLASH_RESERVE_START_KB 0

# the location where the bootloader will put the firmware
# the H743 has 128k sectors
FLASH_BOOTLOADER_LOAD_KB 128

define HAL_LED_ON 0

# order of UARTs (and USB)
SERIAL_ORDER OTG1 USART1 USART2 USART3 UART7

# UART1
PB14 UART1_TX USART1
PA10 UART1_RX USART1

# UART2
PA2 UART2_TX USART2
PA3 UART2_RX USART2

# UART3
PD8 UART3_TX USART3
PD9 UART3_RX USART3

# UART4
PB9 UART4_TX USART4
PB8 UART4_RX USART4

# UART6
PC6 UART6_TX USART6
PC7 UART6_RX USART6

# UART7
PE8 UART7_TX USART7
PE7 UART7_RX USART7

# UART8
# PE1 UART8_TX USART8  # Used as beeper
PE0 UART8_RX USART8

# LED configuration
PA13 LED_BOOTLOADER OUTPUT HIGH
PA15 LED_ACTIVITY OUTPUT HIGH

# USB pins
PA11 OTG_FS_DM OTG1
PA12 OTG_FS_DP OTG1

# USB detect pin
PA9 USB_DETECT INPUT

# SWD pins for debugging
PA13 JTMS-SWDIO SWD
PA14 JTCK-SWCLK SWD

# Add CS pins to ensure they are high in bootloader (from CubeOrange)
PC1 MAG_CS CS
PC2 MPU_CS CS
PC13 GYRO_EXT_CS CS
PC14 BARO_EXT_CS CS
PC15 ACCEL_EXT_CS CS
PD7 BARO_CS CS
PE4 MPU_EXT_CS CS
PD10 FRAM_CS CS SPEED_VERYLOW

# Additional CS pins
PB2 GYRO1_CS CS
PB15 GYRO2_CS CS
PE4 GYRO3_CS CS
PA4 MAX7456_CS CS

# I2C1
PB6 I2C1_SCL I2C1
PB7 I2C1_SDA I2C1

# Beeper
PE1 BEEPER OUTPUT

# SPI configurations
PB3 SPI1_SCK SPI1
PB4 SPI1_SDI SPI1
PB5 SPI1_SDO SPI1

PE2 SPI4_SCK SPI4
PE5 SPI4_SDI SPI4
PE6 SPI4_SDO SPI4

PA5 SPI6_SCK SPI6
PA6 SPI6_SDI SPI6
PA7 SPI6_SDO SPI6

# enable DFU by default
ENABLE_DFU_BOOT 1

# Power management - matching CubeOrange exactly
PE3 VDD_3V3_SENSORS_EN OUTPUT LOW
PA8 nVDD_5V_PERIPH_EN OUTPUT LOW
